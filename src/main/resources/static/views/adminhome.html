<div>{{welcome}}</div>

{{session.name}}


<button ng-click="listJobs()" ng-show="page!=1">List Jobs</button>
<button ng-click="viewAddJob()" ng-show="page!=2">Add Job</button>

<div ng-show='page==1'>

	<table>
		<tr>
			<th>Job Id</th>
			<th>Category</th>
			<th>Team</th>
			<th>Description</th>
			<th>Posted On</th>
			<th>Status</th>
			<th>Recruited</th>
		</tr>
		<tr ng-repeat="job in jobs">
			<td>{{ job.jId }}</td>
			<td>{{ job.category.categoryName }}</td>
			<td>{{ job.team.name }}</td>
			<td>{{ job.description }}</td>
			<td>{{ job.postedOn|date }}</td>
			<td>{{ job.closed ? "Closed":"Open" }}</td>
			<td>{{ job.recruited.emailId==null? "N/A":
				job.recruited.emailId}} <span><button
						ng-click="viewApplications($index)">Applications</button>
					<button ng-click="viewUpdateJob($index)">Edit</button>
					<button ng-click="deleteJob($index)">Delete</button></span>
			</td>

		</tr>
	</table>

</div>

<div ng-show="page==2">
	<h2>Add Job</h2>
	<table>
		<tr>
			<td><label>Category</label></td>
			<td><select ng-model="categModel"
				ng-options="category.categoryName for category in categories track by category.cid">
			</select></td>
		</tr>

		<tr>
			<td><label>Team</label></td>
			<td><select ng-model="teamModel"
				ng-options="team.name for team in teams track by team.id">
			</select></td>
		</tr>
		<tr>
			<td><label>Description</label></td>
			<td><textarea rows="4" cols="50" ng-model="jobDescription"></textarea></td>
		</tr>
		<tr>
			<td><button ng-click="cancel()">Cancel</button></td>
			<td><button ng-click="publish()">Publish</button></td>
		</tr>
	</table>
	Selected {{categModel}}{{teamModel}}{{jobDescription}}
</div>

<div ng-show="page==3">
	<h2>Edit Job</h2>

	<table>
		<tr>
			<td><label>Category</label></td>
			<td><select ng-model="categModel"
				ng-options="category.categoryName for category in categories track by category.cid">
			</select></td>
		</tr>

		<tr>
			<td><label>Team</label></td>
			<td><select ng-model="teamModel"
				ng-options="team.name for team in teams track by team.id">
			</select></td>
		</tr>
		<tr>
			<td><label>Description</label></td>
			<td><textarea rows="4" cols="50" ng-model="jobDescription"></textarea></td>
		</tr>
		<tr>
			<td><button ng-click="cancel()">Cancel</button></td>
			<td><button ng-click="update()">Save</button></td>
		</tr>
	</table>
	Selected {{categModel}}{{teamModel}}{{jobDescription}}
</div>
